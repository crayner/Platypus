(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"0mhY":function(e,t,n){"use strict";n.d(t,"a",function(){return s});var a=n("dWkn");function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en";return Object(a.a)("/system/notification/manage/",{method:"POST",body:JSON.stringify(e)},t).then(function(e){return e=e.content})}},"2E+r":function(e,t,n){"use strict";n.r(t);var a=n("q1tI"),s=n.n(a),r=n("i8i4"),i=n("X/T5");Object(r.render)(s.a.createElement(i.a,{interval:window.NOTIFICATION_PROPS.interval,fullPage:window.NOTIFICATION_PROPS.fullPage,alwaysFullPage:window.NOTIFICATION_PROPS.alwaysFullPage,translations:window.NOTIFICATION_PROPS.translations,locale:window.NOTIFICATION_PROPS.locale}),document.getElementById("notificationBar"))},"X/T5":function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return h});var a=n("q1tI"),s=n.n(a),r=n("0mhY"),i=(n("17x9"),n("qslV")),o=n("dWkn");function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var h=function(t){function n(e){var t,a,s;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),a=this,(t=!(s=u(n).call(this,e))||"object"!==l(s)&&"function"!=typeof s?m(a):s).state={interval:e.interval,content:[],contentKey:0,fullPage:e.fullPage,alwaysFullPage:e.alwaysFullPage,message:t.manageMessage({text:"",id:1,link:""})},t.translations=e.translations,t.handleRefreshMessageTimeout=0,t.handleStepMessageTimeout=0,t.messageCount=0,t.locale=e.locale,t.manageSideBarClick=t.manageSideBarClick.bind(m(m(t))),e.fullPage&&t.closeSidebar(),t}var h,g,d;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(n,a["Component"]),h=n,(g=[{key:"componentDidMount",value:function(){var e=this;Object(r.a)(this.state.content).then(function(t){e.handleNewContent(t)})}},{key:"componentWillUnmount",value:function(){clearTimeout(this.handleStepMessageTimeout)}},{key:"handleNewContent",value:function(e){this.messageCount=e.length,0===this.messageCount&&(e={0:{id:1,text:"",link:"",alert:"light"}}),this.handleRefreshMessageTimeout=0,clearTimeout(this.handleStepMessageTimeout);var t=this.state.interval;t<5e3*e.length&&(t=5e3*e.length),this.setState({content:e,contentKey:1,message:this.manageMessage(e[0]),interval:t}),this.stepToNextMessage()}},{key:"stepToNextMessage",value:function(){var e=this;this.refreshMessages(),clearTimeout(this.handleStepMessageTimeout),this.handleStepMessageTimeout=setTimeout(function(){var t=e.state.contentKey;if(t in e.state.content){var n=e.manageMessage(e.state.content[t]);t++}else{n=e.manageMessage(e.state.content[0]);t=1}e.setState({message:n,contentKey:t}),e.stepToNextMessage()},5e3)}},{key:"refreshMessages",value:function(){var e=this;this.handleRefreshMessageTimeout>=this.state.interval?(this.handleRefreshMessageTimeout=0,Object(r.a)(this.state.content,this.locale).then(function(t){e.handleNewContent(t)})):this.handleRefreshMessageTimeout=parseInt(this.handleRefreshMessageTimeout)+5e3}},{key:"manageMessage",value:function(e){if("alert"in e)var t="alert-"+e.alert;else t="alert-light";return 0!==e.link.length?s.a.createElement("span",{className:t,key:e.id},s.a.createElement("a",{href:e.link},e.text||"")):s.a.createElement("span",{className:t,key:e.id},e.text||"")}},{key:"openSidebar",value:function(){var t=e("#contentContainer"),n=e("#sectionMenuContainer");return t.removeAttr("style"),n.removeAttr("style"),!1}},{key:"closeSidebar",value:function(){var t=e("#contentContainer"),n=e("#sectionMenuContainer");return t.css("flex","auto"),t.css("max-width","none"),n.css("display","none"),!0}},{key:"manageSideBarClick",value:function(){this.state.alwaysFullPage||(this.state.fullPage?(Object(o.a)("/menu/section/show/display/",{},this.locale),this.setState({fullPage:this.openSidebar()})):(Object(o.a)("/menu/section/hide/display/",{},this.locale),this.setState({fullPage:this.closeSidebar()})))}},{key:"render",value:function(){return s.a.createElement(i.a,{message:this.state.message,fullPage:this.state.fullPage,alwaysFullPage:this.state.alwaysFullPage,manageSidebarClick:this.manageSideBarClick,messageCount:this.messageCount,translations:this.translations})}}])&&c(h.prototype,g),d&&c(h,d),n}()}).call(this,n("EVdn"))},dWkn:function(e,t,n){"use strict";function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){s(e,t,n[t])})}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t,n){var s={};t&&t.headers&&(s=t.headers,delete t.headers),s=a({},s,{"Content-Type":"application/json; charset=utf-8"}),null===n&&(n="en"),!1!==n&&""!==e||(n="");var r=window.location.protocol+"//"+window.location.hostname+"/";return fetch(r+n+e,a({},t,{credentials:"same-origin",headers:s})).then(i).then(function(e){return e.text().then(function(e){return e?JSON.parse(e):""})})}function i(e){if(e.status>=200&&e.status<400)return e;var t=new Error(e.statusText);throw t.response=e,t}n.d(t,"a",function(){return r})},qslV:function(e,t,n){"use strict";var a=n("q1tI"),s=n.n(a),r=(n("17x9"),n("IP2g")),i=n("twK/");function o(){return s.a.createElement("span",{style:{float:"right"},className:"text-muted"},s.a.createElement(r.a,{icon:i.e}))}var l=n("zHh7"),c=n("wHSu");function u(e){var t=e.messageCount,n=e.translations,a=Object(l.a)(n,"message.count",{"%{count}":t});return s.a.createElement("span",{style:{float:"right",top:"10px",left:"4px"},title:a,className:"fa-layers fa-fw"},s.a.createElement(r.a,{icon:c.d}),s.a.createElement("span",{className:"fa-layers-text fa-inverse","data-fa-transform":"shrink-9 up-1",style:{fontWeight:300}},t))}function f(e){var t=e.alwaysFullPage,n=e.fullPage,a=e.manageSidebarClick,o=e.translations;return s.a.createElement("span",{onClick:a,style:{float:"right"},className:t?"text-muted":"text-normal",title:Object(l.a)(o,"toggle.sidebar",[])},s.a.createElement(r.a,{icon:n?c.c:i.h}))}function m(e){var t=e.alwaysFullPage,n=e.fullPage,a=e.manageSidebarClick,r=e.messageCount,i=e.translations;return s.a.createElement("div",{className:"col-4 fa-2x"},s.a.createElement(f,{alwaysFullPage:t,fullPage:n,manageSidebarClick:a,translations:i}),s.a.createElement("span",{style:{float:"right"}},"  "),r>0?s.a.createElement(u,{messageCount:r,translations:i}):s.a.createElement(o,null))}function h(e){var t=e.message,n=e.alwaysFullPage,a=e.fullPage,r=e.manageSidebarClick,i=e.messageCount,o=e.translations;return s.a.createElement("div",{className:"row",style:{marginTop:"-32px",maxHeight:"50px",minHeight:"50px"}},s.a.createElement("div",{className:"col-8"},s.a.createElement("div",{className:"text-center"},t)),s.a.createElement(m,{alwaysFullPage:n,fullPage:a,manageSidebarClick:r,messageCount:i,translations:o}))}n.d(t,"a",function(){return h})},zHh7:function(e,t,n){"use strict";function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t in e){var a=e[t];for(var s in n)a=a.replace(s,n[s]+"");return a}return t}n.d(t,"a",function(){return a})}},[["2E+r",0,1,3]]]);