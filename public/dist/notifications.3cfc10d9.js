webpackJsonp([4],{Ae7D:function(e,t,a){"use strict";(function(e){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=a("GiK3"),r=a.n(l),o=a("rT45"),c=a("KSGD"),u=(a.n(c),a("qGKg")),f=a("36Xy"),g=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),m=function(t){function a(e){n(this,a);var t=s(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e));return t.state={interval:e.interval,content:[],contentKey:0,fullPage:e.fullPage,alwaysFullPage:e.alwaysFullPage,message:t.manageMessage({text:"",id:1,link:""})},t.translations=e.translations,t.handleRefreshMessageTimeout=0,t.handleStepMessageTimeout=0,t.messageCount=0,t.locale=e.locale,t.manageSideBarClick=t.manageSideBarClick.bind(t),e.fullPage&&t.closeSidebar(),t}return i(a,t),g(a,[{key:"componentDidMount",value:function(){var e=this;Object(o.a)(this.state.content).then(function(t){e.handleNewContent(t)})}},{key:"componentWillUnmount",value:function(){clearTimeout(this.handleStepMessageTimeout)}},{key:"handleNewContent",value:function(e){this.messageCount=e.length,0===this.messageCount&&(e={0:{id:1,text:"",link:"",alert:"light"}}),this.handleRefreshMessageTimeout=0,clearTimeout(this.handleStepMessageTimeout);var t=this.state.interval;t<5e3*e.length&&(t=5e3*e.length),this.setState({content:e,contentKey:1,message:this.manageMessage(e[0]),interval:t}),this.stepToNextMessage()}},{key:"stepToNextMessage",value:function(){var e=this;this.refreshMessages(),clearTimeout(this.handleStepMessageTimeout),this.handleStepMessageTimeout=setTimeout(function(){var t=e.state.contentKey;if(t in e.state.content){var a=e.manageMessage(e.state.content[t]);t++}else{var a=e.manageMessage(e.state.content[0]);t=1}e.setState({message:a,contentKey:t}),e.stepToNextMessage()},5e3)}},{key:"refreshMessages",value:function(){var e=this;this.handleRefreshMessageTimeout>=this.state.interval?(this.handleRefreshMessageTimeout=0,Object(o.a)(this.state.content,this.locale).then(function(t){e.handleNewContent(t)})):this.handleRefreshMessageTimeout=parseInt(this.handleRefreshMessageTimeout)+5e3}},{key:"manageMessage",value:function(e){if("alert"in e)var t="alert-"+e.alert;else var t="alert-light";return 0!==e.link.length?r.a.createElement("span",{className:t,key:e.id},r.a.createElement("a",{href:e.link},e.text||"")):r.a.createElement("span",{className:t,key:e.id},e.text||"")}},{key:"openSidebar",value:function(){var t=e("#contentContainer"),a=e("#sectionMenuContainer");return t.removeAttr("style"),a.removeAttr("style"),!1}},{key:"closeSidebar",value:function(){var t=e("#contentContainer"),a=e("#sectionMenuContainer");return t.css("flex","auto"),t.css("max-width","none"),a.css("display","none"),!0}},{key:"manageSideBarClick",value:function(){this.state.alwaysFullPage||(this.state.fullPage?(Object(f.a)("/menu/section/show/display/",{},this.locale),this.setState({fullPage:this.openSidebar()})):(Object(f.a)("/menu/section/hide/display/",{},this.locale),this.setState({fullPage:this.closeSidebar()})))}},{key:"render",value:function(){return r.a.createElement(u.a,{message:this.state.message,fullPage:this.state.fullPage,alwaysFullPage:this.state.alwaysFullPage,manageSidebarClick:this.manageSideBarClick,messageCount:this.messageCount,translations:this.translations})}}]),a}(l.Component);t.a=m}).call(t,a("7t+N"))},E44p:function(e,t,a){"use strict";function n(e){var t=e.messageCount,a=e.translations,n=Object(r.a)(a,"message.count",{"%{count}":t});return i.a.createElement("span",{style:{float:"right",top:"10px",left:"4px"},title:n,className:"fa-layers fa-fw"},i.a.createElement(o.a,{icon:c.d}),i.a.createElement("span",{className:"fa-layers-text fa-inverse","data-fa-transform":"shrink-9 up-1",style:{fontWeight:300}},t))}t.a=n;var s=a("GiK3"),i=a.n(s),l=a("KSGD"),r=(a.n(l),a("r6K9")),o=a("eSoy"),c=a("fhbW")},QMZD:function(e,t,a){"use strict";function n(e){var t=e.alwaysFullPage,a=e.fullPage,n=e.manageSidebarClick,s=e.translations;return i.a.createElement("span",{onClick:n,style:{float:"right"},className:t?"text-muted":"text-normal",title:Object(r.a)(s,"toggle.sidebar",[])},i.a.createElement(o.a,{icon:a?c.c:u.h}))}t.a=n;var s=a("GiK3"),i=a.n(s),l=a("KSGD"),r=(a.n(l),a("r6K9")),o=a("eSoy"),c=a("fhbW"),u=a("Yu89")},X6XM:function(e,t,a){"use strict";function n(e){var t=e.alwaysFullPage,a=e.fullPage,n=e.manageSidebarClick,s=e.messageCount,l=e.translations;return i.a.createElement("div",{className:"col-4 fa-2x"},i.a.createElement(c.a,{alwaysFullPage:t,fullPage:a,manageSidebarClick:n,translations:l}),i.a.createElement("span",{style:{float:"right"}},"  "),function(){return s>0?i.a.createElement(o.a,{messageCount:s,translations:l}):i.a.createElement(r.a,null)}())}t.a=n;var s=a("GiK3"),i=a.n(s),l=a("KSGD"),r=(a.n(l),a("YGQp")),o=a("E44p"),c=a("QMZD")},YGQp:function(e,t,a){"use strict";function n(){return i.a.createElement("span",{style:{float:"right"},className:"text-muted"},i.a.createElement(l.a,{icon:r.e}))}t.a=n;var s=a("GiK3"),i=a.n(s),l=a("eSoy"),r=a("Yu89")},hxwO:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("GiK3"),s=a.n(n),i=a("O27J"),l=(a.n(i),a("Ae7D"));Object(i.render)(s.a.createElement(l.a,{interval:window.NOTIFICATION_PROPS.interval,fullPage:window.NOTIFICATION_PROPS.fullPage,alwaysFullPage:window.NOTIFICATION_PROPS.alwaysFullPage,translations:window.NOTIFICATION_PROPS.translations,locale:window.NOTIFICATION_PROPS.locale}),document.getElementById("notificationBar"))},qGKg:function(e,t,a){"use strict";function n(e){var t=e.message,a=e.alwaysFullPage,n=e.fullPage,s=e.manageSidebarClick,l=e.messageCount,o=e.translations;return i.a.createElement("div",{className:"row",style:{marginTop:"-32px",maxHeight:"50px",minHeight:"50px"}},i.a.createElement("div",{className:"col-8"},i.a.createElement("div",{className:"text-center"},t)),i.a.createElement(r.a,{alwaysFullPage:a,fullPage:n,manageSidebarClick:s,messageCount:l,translations:o}))}t.a=n;var s=a("GiK3"),i=a.n(s),l=a("KSGD"),r=(a.n(l),a("X6XM"))},r6K9:function(e,t,a){"use strict";function n(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t in e){var n=e[t];for(var s in a)n=n.replace(s,a[s]+"");return n}return t}t.a=n},rT45:function(e,t,a){"use strict";function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en";return Object(s.a)("/system/notification/manage/",{method:"POST",body:JSON.stringify(e)},t).then(function(e){return e=e.content})}t.a=n;var s=a("36Xy")}},["hxwO"]);